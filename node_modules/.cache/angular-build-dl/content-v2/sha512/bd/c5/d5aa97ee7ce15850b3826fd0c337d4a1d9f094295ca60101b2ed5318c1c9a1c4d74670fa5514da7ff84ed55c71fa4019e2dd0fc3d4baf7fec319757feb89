{"version":3,"sources":["./node_modules/@byteowls/capacitor-filesharer/dist/esm/index.js","./node_modules/@byteowls/capacitor-filesharer/dist/esm/web.js","./node_modules/file-saver/dist/FileSaver.min.js","./src/app/explore-container/explore-container.component.ts","./src/app/explore-container/explore-container.component.html","./src/app/explore-container/explore-container.module.ts","./src/app/photo-tab/photo-tab.module.ts","./src/app/photo-tab/photo-tab.page.ts","./src/app/photo-tab/photo-tab.page.html"],"names":[],"mappings":"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","file":"photo-tab-photo-tab-module-es2015.js","sourcesContent":["export * from './web';\r\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { WebPlugin } from '@capacitor/core';\r\nimport * as FileSaver from 'file-saver';\r\nexport class FileSharerPluginWeb extends WebPlugin {\r\n    constructor() {\r\n        super({\r\n            name: 'FileSharer',\r\n            platforms: ['web']\r\n        });\r\n    }\r\n    share(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve, reject) => {\r\n                let blob = new Blob([this.toByteArray(options.base64Data)], { type: options.contentType });\r\n                FileSaver.saveAs(blob, options.filename);\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n    toByteArray(base64Data) {\r\n        const byteCharacters = atob(base64Data);\r\n        const byteNumbers = new Array(byteCharacters.length);\r\n        for (let i = 0; i < byteCharacters.length; i++) {\r\n            byteNumbers[i] = byteCharacters.charCodeAt(i);\r\n        }\r\n        return new Uint8Array(byteNumbers);\r\n    }\r\n}\r\nconst FileSharer = new FileSharerPluginWeb();\r\nexport { FileSharer };\r\n// this does not work for angular. You need to register the plugin in app.component.ts again.\r\nimport { registerWebPlugin } from '@capacitor/core';\r\nregisterWebPlugin(FileSharer);\r\n//# sourceMappingURL=web.js.map","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-explore-container',\n  templateUrl: './explore-container.component.html',\n  styleUrls: ['./explore-container.component.scss'],\n})\nexport class ExploreContainerComponent implements OnInit {\n  @Input() name: string;\n  \n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","<div id=\"container\">\n  <strong>{{ name }}</strong>\n  <p>Explore <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://ionicframework.com/docs/components\">UI Components</a></p>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ExploreContainerComponent } from './explore-container.component';\n\n@NgModule({\n  imports: [ CommonModule, FormsModule,IonicModule,],\n  declarations: [ExploreContainerComponent],\n  exports: [ExploreContainerComponent]\n})\nexport class ExploreContainerComponentModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './photo-tab.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: Tab2Page }])\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Screenshot } from '@ionic-native/screenshot/ngx';\nimport { registerWebPlugin, Plugins } from \"@capacitor/core\";\nimport {FileSharer} from '@byteowls/capacitor-filesharer';\n\n@Component({\n  selector: 'app-photo-tab',\n  templateUrl: 'photo-tab.page.html',\n  styleUrls: ['photo-tab.page.scss']\n})\nexport class Tab2Page implements OnInit {\n\n\tdisplayCamera: boolean\n\tdisplayAlertMissing: boolean\n\tdisplayShareButton: boolean\n\tuserMessage: string\n\tscreen: any;\n\tstate: boolean = false;\n\n  \tconstructor(public actionSheetController: ActionSheetController,\n\t\t\t  public screenshot: Screenshot\n  )\n  {}\n\n  async ngOnInit() {\n\t\tthis.displayCamera = true\n\t\tthis.displayAlertMissing = true\n\t\tthis.displayShareButton = false\n\t\tthis.userMessage = 'Montre-moi <br />ton dessin !'\n\t\tthis.initErrorMessageLoader();\n\t\tregisterWebPlugin(FileSharer);\n  }\n\n  public initErrorMessageLoader() {\n\n\twindow.addEventListener('message', handleMessage, false);\n\n\t\tconst self = this\n\n\t\tfunction handleMessage(event) {\n\t\t\tif (event.data === 'IS_VISIBLE') {\n\t\t\t\tself.displayAlertMissing = false;\n\t\t\t\tself.displayShareButton = true;\n\t\t\t} else if (event.data === 'IS_NOT_VISIBLE') {\n\t\t\t\tself.displayAlertMissing = true;\n\t\t\t\tself.displayShareButton = false;\n\t\t\t\tself.userMessage = 'Je ne vois pas <br />ton dessin !'\n\t\t\t}\n\t\t}\n\t}\n\n\t// Reset function we will use to hide the screenshot preview after 1 second\n\treset() {\n\t\tconst self = this;\n\t\tsetTimeout(function(){ \n\t\t\tself.state = false;\n\t\t}, 1000);\n\t}\n\n\ttakeScreenshot() {\n\t\tthis.screenshot.save('jpg', 80, 'myscreenshot.jpg').then(res => {\n\t\t\tthis.screen = res.filePath;\n\t\t\tthis.state = true;\n\t\t\tthis.downloadButtonClick();\n\t\t\tthis.reset();\n\t\t});\n\t}\n\n\tdownloadButtonClick() {\n\t\tPlugins.FileSharer.share({\n\t\t\tfilename: \"myscreenshot.jpg\",\n\t\t\tbase64Data: \"...\",\n\t\t\tcontentType: \"application/jpg\",\n\t\t}).then(() => {\n\t\t\t// do sth\n\t\t}).catch(error => {\n\t\t\tconsole.error(\"File sharing failed\", error.message);\n\t\t});\n\t}\n}\n","<ion-content class=\"app-container\">\n\n\t<ion-content class=\"header\">\n\t\t<div class=\"logo-container\">\n\t\t\t<ion-img id=\"logo\" [src]=\"'assets/icon/logo.png'\"></ion-img>\n\t\t\t<ion-img id=\"logoCripsy\" [src]=\"'assets/icon/logo_crispy.png'\"></ion-img>\n\t\t</div>\n\t\t<span *ngIf=\"displayShareButton\" class=\"share-container\" (click)=\"takeScreenshot()\">\n\t\t\t<ion-icon name=\"share\"></ion-icon>\n\t\t\t<span>Partager <br />mon dessin !</span>\n\t\t</span>\n\n\t\t<span *ngIf=\"displayAlertMissing\" id=\"alertMissing\" class=\"missing-container\">\n\t\t  <span [innerHTML]=\"userMessage\"></span>\n\t\t</span>\n\t</ion-content>\n\n  <ion-content *ngIf=\"displayCamera\" [fullscreen]=\"true\">\n    <iframe name=\"arcomponent\" src=\"../assets/augmented-reality/scene.html\" style=\"position:absolute; width: 100%; height: 100%; border: none\"></iframe>\n  </ion-content>\n\n\t<div id=\"screenshotContainer\" [class.hidden]=\"!displayCamera\">\n\t\t<ion-img [src]=\"screenshot\"></ion-img>\n\t</div>\n\n\t<ion-content class=\"base\">\n\t\t<div>\n\t\t\t<ion-img [src]=\"'assets/background/illustration_jungle.png'\"></ion-img>\n\t\t</div>\n\t</ion-content>\n\n</ion-content>\n"],"sourceRoot":"webpack:///"}